<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/head :: head"></head>
<body>
<div class="container-fluid">
    <th:block th:insert="fragments/header"/>

    <main class="mt-3">
        <div class="row d-flex justify-content-between">
            <div class="products-navigation col-md-3">
                <h2 class="font-weight-bold">Navigation</h2>
                <div class="mt-3 radio-holder">
                    <div class="custom-control custom-radio mt-3">
                        <input type="radio" id="allRadio" name="selection"
                               class="custom-control-input" value="0">
                        <label class="h4 custom-control-label" for="allRadio">All</label>
                    </div>

                    <div class="custom-control custom-radio mt-3" th:each="category : ${categories}">
                        <input type="radio" name="selection"
                               class="custom-control-input" th:id="${#strings.toLowerCase(category.name)}"
                               th:value="${category.id}">
                        <!--                               th:value="${#strings.toLowerCase(category.name)}">-->
                        <label class="h4 custom-control-label" th:for="${#strings.toLowerCase(category.name)}"
                               th:text="${category.name}"></label>
                    </div>
                </div>
            </div>
            <div class="data col-md-8">
                <h1 class="text-center font-weight-bold">Products</h1>
                <div class="products-data">
                    <div class="products-row row d-flex justify-content-around mt-5">
                        <div class="product">
                            <div class="text-center">
                                <a href="/products/details/a421ed51-b36c-477a-8e9d-738568774611">
                                    <img src="https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"
                                         width="250px" height="250px">
                                </a>
                            </div>
                            <h5 class="text-center font-weight-bold mt-3">Name: Samsung A7</h5>
                            <h5 class="text-center font-weight-bold">Price: 400.00</h5>
                        </div>
                        <div class="product">
                            <div class="text-center">
                                <a href="/products/details/a421ed51-b36c-477a-8e9d-738568774611">
                                    <img src="https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"
                                         width="250px" height="250px">
                                </a>
                            </div>
                            <h5 class="text-center font-weight-bold mt-3">Name: Samsung A7</h5>
                            <h5 class="text-center font-weight-bold">Price: 400.00</h5>
                        </div>
                        <div class="product">
                            <div class="text-center">
                                <a href="/products/details/a421ed51-b36c-477a-8e9d-738568774611">
                                    <img src="https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"
                                         width="250px" height="250px">
                                </a>
                            </div>
                            <h5 class="text-center font-weight-bold mt-3">Name: Samsung A7</h5>
                            <h5 class="text-center font-weight-bold">Price: 400.00</h5>
                        </div>

                    </div>
                </div>
                <div class="products-data">
                    <div class="products-row row d-flex justify-content-around mt-5">
                        <div class="product">
                            <div class="text-center">
                                <a href="/products/details/a421ed51-b36c-477a-8e9d-738568774611">
                                    <img src="https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"
                                         width="250px" height="250px">
                                </a>
                            </div>
                            <h5 class="text-center font-weight-bold mt-3">Name: Samsung A7</h5>
                            <h5 class="text-center font-weight-bold">Price: 400.00</h5>
                        </div>
                        <div class="product">
                            <div class="text-center">
                                <a href="/products/details/a421ed51-b36c-477a-8e9d-738568774611">
                                    <img src="https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"
                                         width="250px" height="250px">
                                </a>
                            </div>
                            <h5 class="text-center font-weight-bold mt-3">Name: Samsung A7</h5>
                            <h5 class="text-center font-weight-bold">Price: 400.00</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <th:block th:insert="fragments/footer"/>
</div>
<th:block th:insert="fragments/scripts"/>

<script th:inline="javascript">
    $('.radio-holder input').on('change', function () {
        const category = $('input[type="radio"]:checked').val();
        console.log(category)

        fetch("/api/products/" + category)
            .then(res => res.json())
            .then(products => console.log(products))
    });
</script>
</body>

</html>